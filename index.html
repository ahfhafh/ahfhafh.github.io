<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="module" src="/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/kute.js@2.2.4/dist/kute.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.148.0/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@0.5.24/dist/vanta.cells.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>
    <link href="/dist/output.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@200;300;400&display=swap" rel="stylesheet">
    <title>I am portfolio</title>
</head>

<body class="font-Josefin-reg">
    <div id="threeDbg" class="fixed top-0 left-0 w-full h-full -z-30"></div>
    <!-- <div class="flex justify-center">
        <div class="w-[500px] h-[500px] resize absolute top-1/4 -translate-y-1/4">
            <svg id="bblob" class="z-10" viewbox="0 0 500 500" width="100%" height="100%"
                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                shape-rendering="geometricPrecision" text-rendering="geometricPrecision">
                <defs>
                    <linearGradient id="bblobGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#8AEFCF">
                            <animate attributeName="stop-color" dur="3000ms" values="#8AEFCF;#EF8AAA;#EF8AAA;#8AEFCF;"
                                repeatCount="indefinite" />
                        </stop>
                        <stop offset="100%" stop-color="#EF8AAA">
                            <animate attributeName="stop-color" dur="3000ms" values="#EF8AAA;#8AEFCF;#8AEFCF;#EF8AAA;"
                                repeatCount="indefinite" />
                        </stop>
                    </linearGradient>
                </defs>

                <path id="blob"
                    d="M460.5,313.5Q425,377,369,411Q313,445,249.5,446Q186,447,150.5,397.5Q115,348,66,299Q17,250,64.5,200Q112,150,155,120Q198,90,248.5,94.5Q299,99,366,108Q433,117,464.5,183.5Q496,250,460.5,313.5Z"
                    stroke="#000000" stroke-width="0.1" fill="url(#bblobGradient)" opacity="0.75">
                    <animate attributeName="d" dur="20s" repeatCount="indefinite"
                        values="M421.5,297Q380,344,353,413Q326,482,255.5,466Q185,450,121.5,420Q58,390,58,320Q58,250,85,200Q112,150,148.5,100.5Q185,51,243,72Q301,93,374.5,99.5Q448,106,455.5,178Q463,250,421.5,297Z;
                M437,300Q388,350,343,373.5Q298,397,248,404Q198,411,160.5,376.5Q123,342,66.5,296Q10,250,61.5,200Q113,150,156,122Q199,94,249.5,94.5Q300,95,354.5,115Q409,135,447.5,192.5Q486,250,437,300Z;
                M438.5,314Q426,378,362,388.5Q298,399,248,404Q198,409,135,394Q72,379,64,314.5Q56,250,65.5,186.5Q75,123,137.5,110.5Q200,98,249,101Q298,104,349.5,122Q401,140,426,195Q451,250,438.5,314Z;
                M438.5,313Q423,376,359.5,384.5Q296,393,237,433Q178,473,151,407.5Q124,342,83,296Q42,250,45,177Q48,104,116.5,76.5Q185,49,247.5,57Q310,65,368.5,93Q427,121,440.5,185.5Q454,250,438.5,313Z;
                M420,308Q410,366,357,391.5Q304,417,246,428.5Q188,440,154,392Q120,344,84.5,297Q49,250,55,181Q61,112,127,93.5Q193,75,252.5,68Q312,61,381,83Q450,105,440,177.5Q430,250,420,308Z;
                M445,308.5Q411,367,359.5,398Q308,429,252,422Q196,415,145.5,389Q95,363,76,306.5Q57,250,66,186.5Q75,123,127,77.5Q179,32,238.5,66.5Q298,101,336,130.5Q374,160,426.5,205Q479,250,445,308.5Z;
                M421.5,297Q380,344,353,413Q326,482,255.5,466Q185,450,121.5,420Q58,390,58,320Q58,250,85,200Q112,150,148.5,100.5Q185,51,243,72Q301,93,374.5,99.5Q448,106,455.5,178Q463,250,421.5,297Z">

                    </animate>
                    <animate attributeName="d" dur="3s" begin="mouseenter" end="mouseleave" repeatCount="indefinite"
                        values="M421.5,297Q380,344,353,413Q326,482,255.5,466Q185,450,121.5,420Q58,390,58,320Q58,250,85,200Q112,150,148.5,100.5Q185,51,243,72Q301,93,374.5,99.5Q448,106,455.5,178Q463,250,421.5,297Z;
                M437,300Q388,350,343,373.5Q298,397,248,404Q198,411,160.5,376.5Q123,342,66.5,296Q10,250,61.5,200Q113,150,156,122Q199,94,249.5,94.5Q300,95,354.5,115Q409,135,447.5,192.5Q486,250,437,300Z;
                M438.5,314Q426,378,362,388.5Q298,399,248,404Q198,409,135,394Q72,379,64,314.5Q56,250,65.5,186.5Q75,123,137.5,110.5Q200,98,249,101Q298,104,349.5,122Q401,140,426,195Q451,250,438.5,314Z;
                M438.5,313Q423,376,359.5,384.5Q296,393,237,433Q178,473,151,407.5Q124,342,83,296Q42,250,45,177Q48,104,116.5,76.5Q185,49,247.5,57Q310,65,368.5,93Q427,121,440.5,185.5Q454,250,438.5,313Z;
                M420,308Q410,366,357,391.5Q304,417,246,428.5Q188,440,154,392Q120,344,84.5,297Q49,250,55,181Q61,112,127,93.5Q193,75,252.5,68Q312,61,381,83Q450,105,440,177.5Q430,250,420,308Z;
                M445,308.5Q411,367,359.5,398Q308,429,252,422Q196,415,145.5,389Q95,363,76,306.5Q57,250,66,186.5Q75,123,127,77.5Q179,32,238.5,66.5Q298,101,336,130.5Q374,160,426.5,205Q479,250,445,308.5Z;
                M421.5,297Q380,344,353,413Q326,482,255.5,466Q185,450,121.5,420Q58,390,58,320Q58,250,85,200Q112,150,148.5,100.5Q185,51,243,72Q301,93,374.5,99.5Q448,106,455.5,178Q463,250,421.5,297Z">

                    </animate>
                </path>
            </svg>
        </div>

    </div> -->

    <canvas id="abc"></canvas>
    <div class="absolute top-1/2 -translate-y-1/2 left-0 right-0 text-center pointer-events-none text-white">
        <div id="blobText" class="p-4 z-10">
            <div id="blobIntro" class="">
                <p class="text-base font-light leading-8 ml-10">hello.</p>
                <p class="text-5xl ml-8">I am Jack</p>
            </div>
        </div>
    </div>
    <div id="hidden_info" class="mr-10 mt-10 absolute top-0 right-0">
        <a href="mailto: jack.yang328@gmail.com" target="_blank"><img class="w-12 h-12 inline-block"
                src="/assets/email_ico.png" alt="jack.yang328@gmail.com"></a>
        <a href="https://github.com/ahfhafh" target="_blank"><img class="w-12 h-12 inline-block"
                src="/assets/github_ico.png" alt="https://github.com/ahfhafh"></a>
        <a href="https://www.linkedin.com/in/jack-yang-hao/" target="_blank"><img class="w-12 h-12 inline-block"
                src="/assets/linkedin_ico.png" alt="https://www.linkedin.com/in/jack-yang-hao/"></a>

        <a href="/assets/Jack_Yang-R.pdf" target="_blank">
            <p class="w-fit mt-4 px-4 py-2 outline hover:outline-orange-400">Resume</p>
        </a>
    </div>

    <a href="#projsGrid" class="block">
        <p class="text-center">Stuff I made</p>
        <p class="text-center text-2xl">âŒ„</p>
    </a>
    <div id="projsGrid" class="flex flex-wrap justify-around px-8 pt-24">
        <div class="proj" data-aos="fade-up">
            <div id="proj1box" class="projbox">
                <div id="proj1pic" class="projpic transition-all duration-500" onclick="expand('proj1')">
                    <img class="object-cover h-full mx-auto" src="./assets/battleshit1.jpg" alt="Battleshit" />
                </div>
                <a class="projName" href="https://github.com/ahfhafh/Battlesht_v2" target="_blank">Battlesh*t</a>
            </div>
            <p class="projLink"><a href="https://github.com/ahfhafh/Battlesht_v2" target="_blank"><i>Github</i></a></p>
        </div>

        <div class="proj" data-aos="fade-up">
            <div id="proj2box" class="projbox">
                <div id="proj2pic" class="projpic transition-all duration-500" onclick="expand('proj2')">
                    <img class="object-cover h-full mx-auto" src="./assets/ratemyuofccourses1.jpg"
                        alt="Rate my UofC Courses" />
                </div>
                <a class="projName" href="https://ratemyuofccourses.onrender.com" target="_blank">Rate My UofC
                    Courses</a>
            </div>
            <p class="projLink"><a href="https://github.com/ahfhafh/SENG-513-Group-Project"
                    target="_blank"><i>Github</i></a></p>
        </div>

        <div class="proj" data-aos="fade-up">
            <div id="proj3box" class="projbox">
                <div id="proj3pic" class="projpic transition-all duration-500" onclick="expand('proj3')">
                    <img class="object-cover h-full mx-auto" src="./assets/chatapp1.jpg" alt="Chat App" />
                </div>
                <a class="projName" href="https://chat-app-vft1.onrender.com" target="_blank">Online chat</a>
            </div>
            <p class="projLink"><a href="https://github.com/ahfhafh/Node-io-chat---ahfhafh"
                    target="_blank"><i>Github</i></a></p>
        </div>

        <div class="proj" data-aos="fade-up">
            <div id="proj4box" class="projbox">
                <div id="proj4pic" class="projpic transition-all duration-500" onclick="expand('proj4')">
                    <img class="object-cover h-full mx-auto" src="assets/shoppurr1.jpg" alt="ShopPurr" />
                </div>
                <a class="projName" href="https://shoppurr.vercel.app" target="_blank">ShopPurr</a>
            </div>
            <p class="projLink"><a href="https://github.com/ahfhafh/shoppurr" target="_blank"><i>Github</i></a>
            </p>
        </div>

        <div class="proj" data-aos="fade-up">
            <div id="proj5box" class="projbox">
                <div id="proj5pic" class="projpic transition-all duration-500">
                    <img class="object-cover h-full mx-auto" src="assets/kfetch1.jpg" alt="Discord kFetch bot" />
                </div>
                <a class="projName" href="" target="_blank">Discord kFetch</a>
            </div>
            <p class="projLink"><a href="https://github.com/ahfhafh/discord_kFetch" target="_blank"><i>Github</i></a>
            </p>
        </div>

        <div class="proj" data-aos="fade-up">
            <div id="proj5box" class="projbox">
                <div id="proj5pic" class="projpic transition-all duration-500">
                    <img class="object-cover h-full mx-auto" src="" alt="Universities-Covid-Dashboard" />
                </div>
                <a class="projName" href="https://github.com/duan-le/Universities-Covid-Dashboard"
                    target="_blank">Covid-19 tracker</a>
            </div>
            <p class="projLink"><a href="https://github.com/duan-le/Universities-Covid-Dashboard"
                    target="_blank"><i>Github</i></a>
            </p>
        </div>
    </div>

    <div id="proj1bg" class="projbg" onclick="closeExpand('proj1')">
        <div id="proj1bgpics" class="projbgpics" onclick="event.stopPropagation()">
            <img class="proj1pic slidepic" src="./assets/battleshit1.jpg" alt="Battleship but with sh*t gameplay1" />
            <img class="proj1pic hidden slidepic" src="./assets/battleshit2.jpg"
                alt="Battleship but with sh*t gameplay2" />
            <div class="slidearrows">
                <a class="prev" onclick="plusSlides(-1, 0)">&#10094;</a>
                <a class="next" onclick="plusSlides(1, 0)">&#10095;</a>
            </div>
            <p><a href="#">A WPF game creation of the tabletop game "Battleship" created in c#. Play against a
                    computer.</a></p>
        </div>
    </div>

    <div id="proj2bg" class="projbg" onclick="closeExpand('proj2')">
        <div id="proj2bgpics" class="projbgpics" onclick="event.stopPropagation()">
            <img class="proj2pic slidepic" src="./assets/ratemyuofccourses1.jpg" alt="Rate my UofC courses homepage" />
            <img class="proj2pic hidden slidepic" src="./assets/ratemyuofccourses2.jpg" alt="" />
            <div class="slidearrows">
                <a class="prev" onclick="plusSlides(-1, 1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1, 1)">&#10095;</a>
            </div>
            <p><a href="#">Website where people can rate the courses at University of Calgary.</a></p>
        </div>
    </div>

    <div id="proj3bg" class="projbg" onclick="closeExpand('proj3')">
        <div id="proj3bgpics" class="projbgpics" onclick="event.stopPropagation()">
            <img class="proj3pic slidepic" src="./assets/chatapp1.jpg" alt="Rate my UofC courses homepage" />
            <img class="proj3pic hidden slidepic" src="./assets/chatapp2.jpg" alt="" />
            <div class="slidearrows">
                <a class="prev" onclick="plusSlides(-1, 2)">&#10094;</a>
                <a class="next" onclick="plusSlides(1, 2)">&#10095;</a>
            </div>
            <p><a href="#">Simple chat web app using websockets.</a></p>
        </div>
    </div>

    <div id="proj4bg" class="projbg" onclick="closeExpand('proj4')">
        <div id="proj4bgpics" class="projbgpics" onclick="event.stopPropagation()">
            <img class="proj4pic slidepic" src="./assets/shoppurr1.jpg" alt="Rate my UofC courses homepage" />
            <img class="proj4pic hidden slidepic" src="./assets/shoppurr2.jpg" alt="" />
            <div class="slidearrows">
                <a class="prev" onclick="plusSlides(-1, 3)">&#10094;</a>
                <a class="next" onclick="plusSlides(1, 3)">&#10095;</a>
            </div>
            <p><a href="#">Shopping website selling cat related stuff.</a></p>
        </div>
    </div>

    <script>
        VANTA.CELLS({
            el: "#threeDbg",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.00,
            minWidth: 200.00,
            scale: 1.00,
            color1: 0x5ef5d1,
            color2: 0x20f7ab,
            size: 5.00,
            speed: 0.20
        })

        const expand = (name) => {
            let projbg = document.getElementById(name + "bg");
            let projbgpic = document.getElementById(name + "bgpics");
            projbg.style.visibility = "visible";
            projbg.style.opacity = 1;
            projbgpic.style.animation = "scale-pic .3s";
        }

        const closeExpand = (name) => {
            let projbg = document.getElementById(name + "bg");
            let projbgpic = document.getElementById(name + "bgpics");
            projbg.style.opacity = 0;
            setTimeout(() => { projbg.style.visibility = "hidden"; }, 300);
            projbgpic.style.animation = "scale-pic--reversed .3s";
        }

        let slideIndex = [1, 1, 1, 1];
        let slideId = ["proj1pic", "proj2pic", "proj3pic", "proj4pic"]
        showSlides(1, 0);
        showSlides(1, 1);
        showSlides(1, 2);
        showSlides(1, 3);

        function plusSlides(n, projno) {
            showSlides(slideIndex[projno] += n, projno);
        }

        function currentSlide(n) {
            showSlides(slideIndex = n);
        }

        function showSlides(n, projno) {
            let i;
            let x = document.getElementsByClassName(slideId[projno]);
            if (n > x.length) { slideIndex[projno] = 1 }
            if (n < 1) { slideIndex[projno] = x.length }
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex[projno] - 1].style.display = "block";
        }

        AOS.init();

        // https://codepen.io/shubniggurath/pen/EmMzpp
        let canvas, ctx;
        let render, init;
        let blob;

        class Blob {
            constructor() {
                this.points = [];
            }

            init() {
                for (let i = 0; i < this.numPoints; i++) {
                    let point = new Point(this.divisional * (i + 1), this);
                    // point.acceleration = -1 + Math.random() * 2;
                    this.push(point);
                }
            }

            render() {
                let canvas = this.canvas;
                let ctx = this.ctx;
                let position = this.position;
                let pointsArray = this.points;
                let radius = this.radius;
                let points = this.numPoints;
                let divisional = this.divisional;
                let center = this.center;

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                pointsArray[0].solveWith(pointsArray[points - 1], pointsArray[1]);

                let p0 = pointsArray[points - 1].position;
                let p1 = pointsArray[0].position;
                let _p2 = p1;

                ctx.beginPath();
                ctx.moveTo(center.x, center.y);
                ctx.moveTo((p0.x + p1.x) / 2, (p0.y + p1.y) / 2);

                for (let i = 1; i < points; i++) {

                    pointsArray[i].solveWith(pointsArray[i - 1], pointsArray[i + 1] || pointsArray[0]);

                    let p2 = pointsArray[i].position;
                    var xc = (p1.x + p2.x) / 2;
                    var yc = (p1.y + p2.y) / 2;
                    ctx.quadraticCurveTo(p1.x, p1.y, xc, yc);
                    // ctx.lineTo(p2.x, p2.y);

                    ctx.fillStyle = '#000000';
                    // ctx.fillRect(p1.x-2.5, p1.y-2.5, 5, 5);

                    p1 = p2;
                }

                var xc = (p1.x + _p2.x) / 2;
                var yc = (p1.y + _p2.y) / 2;
                ctx.quadraticCurveTo(p1.x, p1.y, xc, yc);
                // ctx.lineTo(_p2.x, _p2.y);

                // ctx.closePath();
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.strokeStyle = '#000000';
                // ctx.stroke();

                /*
                    ctx.fillStyle = '#000000';
                    if(this.mousePos) {
                      let angle = Math.atan2(this.mousePos.y, this.mousePos.x) + Math.PI;
                      ctx.fillRect(center.x + Math.cos(angle) * this.radius, center.y + Math.sin(angle) * this.radius, 5, 5);
                    }
                */
                requestAnimationFrame(this.render.bind(this));
            }

            push(item) {
                if (item instanceof Point) {
                    this.points.push(item);
                }
            }

            set color(value) {
                this._color = value;
            }
            get color() {
                return this._color || '#000000';
            }

            set canvas(value) {
                if (value instanceof HTMLElement && value.tagName.toLowerCase() === 'canvas') {
                    this._canvas = canvas;
                    this.ctx = this._canvas.getContext('2d');
                }
            }
            get canvas() {
                return this._canvas;
            }

            set numPoints(value) {
                if (value > 2) {
                    this._points = value;
                }
            }
            get numPoints() {
                return this._points || 32;
            }

            set radius(value) {
                if (value > 0) {
                    this._radius = value;
                }
            }
            get radius() {
                return this._radius || 150;
            }

            set position(value) {
                if (typeof value == 'object' && value.x && value.y) {
                    this._position = value;
                }
            }
            get position() {
                return this._position || { x: 0.5, y: 0.5 };
            }

            get divisional() {
                return Math.PI * 2 / this.numPoints;
            }

            get center() {
                return { x: this.canvas.width * this.position.x, y: this.canvas.height * this.position.y };
            }

            set running(value) {
                this._running = value === true;
            }
            get running() {
                return this.running !== false;
            }
        }

        class Point {
            constructor(azimuth, parent) {
                this.parent = parent;
                this.azimuth = Math.PI - azimuth;
                this._components = {
                    x: Math.cos(this.azimuth),
                    y: Math.sin(this.azimuth)
                };

                this.acceleration = -0.3 + Math.random() * 0.6;
            }

            solveWith(leftPoint, rightPoint) {
                this.acceleration = (-0.3 * this.radialEffect + (leftPoint.radialEffect - this.radialEffect) + (rightPoint.radialEffect - this.radialEffect)) * this.elasticity - this.speed * this.friction;
            }

            set acceleration(value) {
                if (typeof value == 'number') {
                    this._acceleration = value;
                    this.speed += this._acceleration * 2;
                }
            }
            get acceleration() {
                return this._acceleration || 0;
            }

            set speed(value) {
                if (typeof value == 'number') {
                    this._speed = value;
                    this.radialEffect += this._speed * 5;
                }
            }
            get speed() {
                return this._speed || 0;
            }

            set radialEffect(value) {
                if (typeof value == 'number') {
                    this._radialEffect = value;
                }
            }
            get radialEffect() {
                return this._radialEffect || 0;
            }

            get position() {
                return {
                    x: this.parent.center.x + this.components.x * (this.parent.radius + this.radialEffect),
                    y: this.parent.center.y + this.components.y * (this.parent.radius + this.radialEffect)
                }
            }

            get components() {
                return this._components;
            }

            set elasticity(value) {
                if (typeof value === 'number') {
                    this._elasticity = value;
                }
            }
            get elasticity() {
                return this._elasticity || 0.001;
            }
            set friction(value) {
                if (typeof value === 'number') {
                    this._friction = value;
                }
            }
            get friction() {
                return this._friction || 0.0085;
            }
        }

        blob = new Blob;

        init = function () {
            canvas = document.getElementById('abc');
            canvas.setAttribute('touch-action', 'none');

            let resize = function () {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight - 80;
            }
            window.addEventListener('resize', resize);
            resize();

            let oldMousePoint = { x: 0, y: 0 };
            let hover = false;
            let mouseMove = function (e) {

                let pos = blob.center;
                let diff = { x: e.clientX - pos.x, y: e.clientY - pos.y };
                let dist = Math.sqrt((diff.x * diff.x) + (diff.y * diff.y));
                let angle = null;

                blob.mousePos = { x: pos.x - e.clientX, y: pos.y - e.clientY };

                if (dist < blob.radius && hover === false) {
                    let vector = { x: e.clientX - pos.x, y: e.clientY - pos.y };
                    angle = Math.atan2(vector.y, vector.x);
                    hover = true;
                    // blob.color = '#77FF00';
                } else if (dist > blob.radius && hover === true) {
                    let vector = { x: e.clientX - pos.x, y: e.clientY - pos.y };
                    angle = Math.atan2(vector.y, vector.x);
                    hover = false;
                    blob.color = null;
                }

                if (typeof angle == 'number') {

                    let nearestPoint = null;
                    let distanceFromPoint = 100;

                    blob.points.forEach((point) => {
                        if (Math.abs(angle - point.azimuth) < distanceFromPoint) {
                            // console.log(point.azimuth, angle, distanceFromPoint);
                            nearestPoint = point;
                            distanceFromPoint = Math.abs(angle - point.azimuth);
                        }

                    });

                    if (nearestPoint) {
                        let strength = { x: oldMousePoint.x - e.clientX, y: oldMousePoint.y - e.clientY };
                        strength = Math.sqrt((strength.x * strength.x) + (strength.y * strength.y)) * 10;
                        if (strength > 100) strength = 100;
                        nearestPoint.acceleration = strength / 100 * (hover ? -1 : 1);
                    }
                }

                oldMousePoint.x = e.clientX;
                oldMousePoint.y = e.clientY;
            }
            // window.addEventListener('mousemove', mouseMove);
            window.addEventListener('pointermove', mouseMove);

            blob.canvas = canvas;
            blob.init();
            blob.render();
        }

        init();
    </script>

</body>

</html>

<!-- TODO: darkmode -->
<!-- TODO: actives-->
<!-- TODO: icons-->